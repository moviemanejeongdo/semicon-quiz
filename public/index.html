<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>반도체 테스트 Lab</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="bg-orb orb-1"></div>
  <div class="bg-orb orb-2"></div>
  <div class="bg-orb orb-3"></div>

  <main class="container">
    <header class="header-card glass">
      <h1>반도체 테스트 Lab</h1>
      <p>Gemini 채점으로 공부한 내용 점검하기</p>
      <div class="nickname-box">
        <span>대화명:</span>
        <span id="nicknameDisplay">-</span>
        <button id="changeNicknameBtn">변경</button>
      </div>
    </header>

    <section class="glass form-card">
      <h2>📘 주관식 문제 (3문항)</h2>
      <form id="quizForm">
        <div class="question">
          <h3>1. FEOL과 BEOL의 차이와, 왜 고온 공정은 FEOL에서만 가능한지 설명하라.</h3>
          <textarea name="q1" rows="4" placeholder="주요 키워드: 트랜지스터, 배선, 재료, 온도 제한 등"></textarea>
        </div>

        <div class="question">
          <h3>2. DRAM 셀이 어떻게 0과 1을 저장하고, 왜 리프레시(Refresh)가 필요한지 설명하라.</h3>
          <textarea name="q2" rows="4" placeholder="1T1C, 커패시터, 누설 전류, 센스 앰프 등"></textarea>
        </div>

        <div class="question">
          <h3>3. 반도체 수율(Yield)이 무엇인지, 왜 중요한지, 낮아지는 주된 이유를 2가지 이상 설명하라.</h3>
          <textarea name="q3" rows="4" placeholder="양품 비율, 파티클, 공정 불균일, 설계 문제 등"></textarea>
        </div>

        <div class="upload-area">
          <label for="images">📎 참고 이미지 업로드 (선택, 최대 3장)</label>
          <input id="images" name="images" type="file" accept="image/*" multiple />
        </div>

        <button type="submit" class="primary-btn">제출하고 채점 받기</button>
        <p id="status" class="status-text"></p>
      </form>

      <div id="resultCard" class="result-card hidden glass">
        <h2>📊 내 채점 결과</h2>
        <div class="score-row">
          <span>Q1 점수</span><span id="score1"></span>
        </div>
        <div class="score-row">
          <span>Q2 점수</span><span id="score2"></span>
        </div>
        <div class="score-row">
          <span>Q3 점수</span><span id="score3"></span>
        </div>
        <div class="score-row total">
          <span>평균 점수</span><span id="scoreAvg"></span>
        </div>
        <div class="feedback-block">
          <h3>📌 전체 피드백</h3>
          <p id="overallFeedback"></p>
        </div>
      </div>
    </section>

    <section class="glass dashboard-card">
      <div class="dashboard-header">
        <h2>📈 대시보드 (전체 결과)</h2>
        <button id="refreshDashboard">새로고침</button>
      </div>
      <div id="dashboardBody" class="dashboard-body">
        <!-- 결과 리스트 -->
      </div>
    </section>
  </main>

  <!-- 닉네임 모달 -->
  <div id="nicknameModal" class="modal hidden">
    <div class="modal-content glass">
      <h2>대화명을 입력하세요</h2>
      <input type="text" id="nicknameInput" placeholder="예: sebin, chip_master 등" />
      <button id="saveNicknameBtn" class="primary-btn">저장</button>
    </div>
  </div>

  <script src="script.js"></script>
</body>
</html>
